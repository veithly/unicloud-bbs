{"version":3,"sources":["webpack:////Users/ricky/Documents/Study/uniapp/bbs_study/components/mp-html/node/node.vue?dedf","webpack:////Users/ricky/Documents/Study/uniapp/bbs_study/components/mp-html/node/node.vue?1f6d","webpack:////Users/ricky/Documents/Study/uniapp/bbs_study/components/mp-html/node/node.vue?29ac","webpack:////Users/ricky/Documents/Study/uniapp/bbs_study/components/mp-html/node/node.vue?7840","uni-app:///components/mp-html/node/node.vue","webpack:////Users/ricky/Documents/Study/uniapp/bbs_study/components/mp-html/node/node.vue?498b","webpack:////Users/ricky/Documents/Study/uniapp/bbs_study/components/mp-html/node/node.vue?59ee","webpack:////Users/ricky/Documents/Study/uniapp/bbs_study/components/mp-html/node/node.vue?e5d0"],"names":["renderjs","component","options","__file","components","render","_vm","this","_h","$createElement","_self","_c","recyclableRender","staticRenderFns","_withStripped","getTop","e","top","detail","y","currentTarget","offsetTop","name","virtualHost","data","ctrl","props","String","attrs","type","Object","default","childs","Array","opts","node","mounted","$nextTick","beforeDestroy","methods","i","root","_mask","pop","_maskTap","$set","setTimeout","_edit","cursor","text","length","res","_editVal","_setData","list","push","substring","splice","parseInt","arr","undefined","_lock","start","parent","$options","$parent","e0","_tooltip","items","success","tapIndex","value","min","max","changing","Math","abs","val","changeStyle","change","remove","item","newStyle","target","uni","showToast","title","style","includes","oldVal","replace","toJSON","play","pauseVideo","_videos","id","flag","pause","ctx","imgTap","href","url","children","wx","imgLongTap","imgLoad","w","width","path","toString","linkTap","mediaError","index","src","$emit","source","errMsg","Component","wxsCallMethods"],"mappings":"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","file":"components/mp-html/node/node.js","sourcesContent":["import { render, staticRenderFns, recyclableRender, components } from \"./node.vue?vue&type=template&id=1d2f0fca&filter-modules=eyJoYW5kbGVyIjp7InR5cGUiOiJzY3JpcHQiLCJjb250ZW50IjoiLy8g6KGM5YaF5qCH562%2B5YiX6KGoXG52YXIgaW5saW5lVGFncyA9IHtcbiAgYWJicjogdHJ1ZSxcbiAgYjogdHJ1ZSxcbiAgYmlnOiB0cnVlLFxuICBjb2RlOiB0cnVlLFxuICBkZWw6IHRydWUsXG4gIGVtOiB0cnVlLFxuICBpOiB0cnVlLFxuICBpbnM6IHRydWUsXG4gIGxhYmVsOiB0cnVlLFxuICBxOiB0cnVlLFxuICBzbWFsbDogdHJ1ZSxcbiAgc3BhbjogdHJ1ZSxcbiAgc3Ryb25nOiB0cnVlLFxuICBzdWI6IHRydWUsXG4gIHN1cDogdHJ1ZVxufVxuLyoqXG4gKiBAZGVzY3JpcHRpb24g5piv5ZCm5L2%2F55SoIHJpY2gtdGV4dCDmmL7npLrliankvZnlhoXlrrlcbiAqL1xubW9kdWxlLmV4cG9ydHMgPSB7XG4gIHVzZTogZnVuY3Rpb24gKGl0ZW0pIHtcbiAgICBpZiAoaXRlbS5jKSByZXR1cm4gZmFsc2VcbiAgICAvLyDlvq7kv6HlkowgUVEg55qEIHJpY2gtdGV4dCBpbmxpbmUg5biD5bGA5peg5pWIXG4gICAgcmV0dXJuICFpbmxpbmVUYWdzW2l0ZW0ubmFtZV0gJiYgKGl0ZW0uYXR0cnMuc3R5bGUgfHwgJycpLmluZGV4T2YoJ2Rpc3BsYXk6aW5saW5lJykgPT0gLTFcbiAgfVxufSIsInN0YXJ0Ijo2NTM5LCJhdHRycyI6eyJtb2R1bGUiOiJoYW5kbGVyIiwibGFuZyI6Ind4cyJ9LCJlbmQiOjcwNTR9fQ%3D%3D&\"\nvar renderjs\nimport script from \"./node.vue?vue&type=script&lang=js&\"\nexport * from \"./node.vue?vue&type=script&lang=js&\"\nimport style0 from \"./node.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null,\n  false,\n  components,\n  renderjs\n)\n\n/* custom blocks */\nimport block0 from \"./node.vue?vue&type=custom&index=0&blockType=script&module=handler&lang=wxs\"\nif (typeof block0 === 'function') block0(component)\n\ncomponent.options.__file = \"components/mp-html/node/node.vue\"\nexport default component.exports","export * from \"-!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--16-0!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./node.vue?vue&type=template&id=1d2f0fca&filter-modules=eyJoYW5kbGVyIjp7InR5cGUiOiJzY3JpcHQiLCJjb250ZW50IjoiLy8g6KGM5YaF5qCH562%2B5YiX6KGoXG52YXIgaW5saW5lVGFncyA9IHtcbiAgYWJicjogdHJ1ZSxcbiAgYjogdHJ1ZSxcbiAgYmlnOiB0cnVlLFxuICBjb2RlOiB0cnVlLFxuICBkZWw6IHRydWUsXG4gIGVtOiB0cnVlLFxuICBpOiB0cnVlLFxuICBpbnM6IHRydWUsXG4gIGxhYmVsOiB0cnVlLFxuICBxOiB0cnVlLFxuICBzbWFsbDogdHJ1ZSxcbiAgc3BhbjogdHJ1ZSxcbiAgc3Ryb25nOiB0cnVlLFxuICBzdWI6IHRydWUsXG4gIHN1cDogdHJ1ZVxufVxuLyoqXG4gKiBAZGVzY3JpcHRpb24g5piv5ZCm5L2%2F55SoIHJpY2gtdGV4dCDmmL7npLrliankvZnlhoXlrrlcbiAqL1xubW9kdWxlLmV4cG9ydHMgPSB7XG4gIHVzZTogZnVuY3Rpb24gKGl0ZW0pIHtcbiAgICBpZiAoaXRlbS5jKSByZXR1cm4gZmFsc2VcbiAgICAvLyDlvq7kv6HlkowgUVEg55qEIHJpY2gtdGV4dCBpbmxpbmUg5biD5bGA5peg5pWIXG4gICAgcmV0dXJuICFpbmxpbmVUYWdzW2l0ZW0ubmFtZV0gJiYgKGl0ZW0uYXR0cnMuc3R5bGUgfHwgJycpLmluZGV4T2YoJ2Rpc3BsYXk6aW5saW5lJykgPT0gLTFcbiAgfVxufSIsInN0YXJ0Ijo2NTM5LCJhdHRycyI6eyJtb2R1bGUiOiJoYW5kbGVyIiwibGFuZyI6Ind4cyJ9LCJlbmQiOjcwNTR9fQ%3D%3D&\"","var components\nvar render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./node.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./node.vue?vue&type=script&lang=js&\"","<template>\r\n  <view @tap=\"nodeTap\" :id=\"attrs.id\" :class=\"'_'+name+' '+attrs.class\" :style=\"(ctrl.root?'border:1px solid black;padding:5px;display:block;':'')+attrs.style\">\r\n    <block v-for=\"(n, i) in childs\" v-bind:key=\"i\">\r\n      <!-- 图片 -->\r\n      <!-- 占位图 -->\r\n      <image v-if=\"n.name==='img'&&((opts[1]&&!ctrl[i])||ctrl[i]<0)\" class=\"_img\" :style=\"n.attrs.style\" :src=\"ctrl[i]<0?opts[2]:opts[1]\" mode=\"widthFix\" />\r\n      <!-- 显示图片 -->\r\n      <!-- #ifdef H5 || APP-PLUS -->\r\n      <img v-if=\"n.name==='img'\" :id=\"n.attrs.id\" :class=\"'_img '+n.attrs.class\" :style=\"(ctrl['e'+i]?'border:1px dashed black;padding:3px;':'')+(ctrl[i]===-1?'display:none;':'')+n.attrs.style\" :src=\"n.attrs.src||(ctrl.load?n.attrs['data-src']:'')\" :data-i=\"i\" @load=\"imgLoad\" @error=\"mediaError\" @tap.stop=\"imgTap\" @longpress=\"imgLongTap\"/>\r\n      <!-- #endif -->\r\n      <!-- #ifndef H5 || APP-PLUS -->\r\n      <image v-if=\"n.name==='img'\" :id=\"n.attrs.id||('n'+i)\" :class=\"'_img '+n.attrs.class\" :style=\"(ctrl['e'+i]?'border:1px dashed black;padding:3px;':'')+(ctrl[i]===-1?'display:none;':'')+'width:'+(ctrl[i]||1)+'px;height:'+(ctrl['h'+i]||1)+'px;'+n.attrs.style\" :src=\"n.attrs.src\" :mode=\"n.h?'':'widthFix'\" :lazy-load=\"opts[0]\" :webp=\"n.webp\" :show-menu-by-longpress=\"!opts[4]&&opts[3]&&!n.attrs.ignore\" :image-menu-prevent=\"opts[4]||!opts[3]||n.attrs.ignore\" :data-i=\"i\" @load=\"imgLoad\" @error=\"mediaError\" @tap.stop=\"imgTap\" @longpress=\"imgLongTap\" />\r\n      <!-- #endif -->\r\n      <!-- 文本 -->\n      <text v-else-if=\"n.type==='text'&&!ctrl['e'+i]\" :data-i=\"i\" @tap=\"editStart\">{{n.text}}\n        <text v-if=\"!n.text\" style=\"color:gray\">{{opts[5]||'请输入'}}</text>\n      </text>\n      <text v-else-if=\"n.type==='text'&&ctrl['e'+i]===1\" :data-i=\"i\" style=\"border:1px dashed black;min-width:50px;width:auto;padding:5px;display:block\" @tap.stop=\"editStart\">{{n.text}}\n        <text v-if=\"!n.text\" style=\"color:gray\">{{opts[5]||'请输入'}}</text>\n      </text>\n      <textarea v-else-if=\"n.type==='text'\" style=\"border:1px dashed black;min-width:50px;width:auto;padding:5px\" auto-height maxlength=\"-1\" :focus=\"ctrl['e'+i]===3\" :value=\"n.text\" :data-i=\"i\" @input=\"editInput\" @blur=\"editEnd\" />\n      <text v-else-if=\"n.name==='br'\">\\n</text>\n      <!-- 链接 -->\r\n      <view v-else-if=\"n.name==='a'\" :id=\"n.attrs.id\" :class=\"(n.attrs.href?'_a ':'')+n.attrs.class\" hover-class=\"_hover\" :style=\"'display:inline;'+n.attrs.style\" :data-i=\"i\" @tap.stop=\"linkTap\">\r\n        <node name=\"span\" :childs=\"n.children\" :opts=\"[opts[0],opts[1],opts[2],opts[3],opts[4],opts[5],opts[6]+'.'+i+'.children']\" style=\"display:inherit\" />\r\n      </view>\r\n      <!-- 视频 -->\r\n      <!-- #ifdef APP-PLUS -->\r\n      <view v-else-if=\"n.html\" :data-i=\"i\" @tap=\"mediaTap\" :id=\"n.attrs.id\" :class=\"'_video '+n.attrs.class\" :style=\"n.attrs.style\" v-html=\"n.html\" />\r\n      <!-- #endif -->\r\n      <!-- #ifndef APP-PLUS -->\r\n      <video :show-center-play-btn=\"!opts[4]\" @tap=\"mediaTap\" v-else-if=\"n.name==='video'\" :id=\"n.attrs.id\" :class=\"n.attrs.class\" :style=\"n.attrs.style\" :autoplay=\"n.attrs.autoplay\" :controls=\"n.attrs.controls\" :loop=\"n.attrs.loop\" :muted=\"n.attrs.muted\" :poster=\"n.attrs.poster\" :src=\"n.src[ctrl[i]||0]\" :data-i=\"i\" @play=\"play\" @error=\"mediaError\" />\r\n      <!-- #endif -->\r\n      <!-- #ifdef H5 || APP-PLUS -->\r\n      <iframe v-else-if=\"n.name==='iframe'\" :style=\"n.attrs.style\" :allowfullscreen=\"n.attrs.allowfullscreen\" :frameborder=\"n.attrs.frameborder\" :src=\"n.attrs.src\" />\r\n      <embed v-else-if=\"n.name==='embed'\" :style=\"n.attrs.style\" :src=\"n.attrs.src\" />\r\n      <!-- #endif -->\r\n      <!-- #ifndef MP-TOUTIAO -->\r\n      <!-- 音频 -->\r\n      <audio @tap=\"mediaTap\" v-else-if=\"n.name==='audio'\" :id=\"n.attrs.id\" :class=\"n.attrs.class\" :style=\"n.attrs.style\" :author=\"n.attrs.author\" :controls=\"n.attrs.controls\" :loop=\"n.attrs.loop\" :name=\"n.attrs.name\" :poster=\"n.attrs.poster\" :src=\"n.src[ctrl[i]||0]\" :data-i=\"i\" @play=\"play\" @error=\"mediaError\" />\r\n      <!-- #endif -->\r\n      <view v-else-if=\"(n.name==='table'&&(n.c||opts[4]))||n.name==='li'\" :id=\"n.attrs.id\" :class=\"'_'+n.name+' '+n.attrs.class\" :style=\"n.attrs.style\">\r\n        <node v-if=\"n.name==='li'\" :childs=\"n.children\" :opts=\"[opts[0],opts[1],opts[2],opts[3],opts[4],opts[5],opts[6]+'.'+i+'.children']\" />\r\n        <view v-else v-for=\"(tbody, x) in n.children\" v-bind:key=\"x\" :class=\"'_'+tbody.name+' '+tbody.attrs.class\" :style=\"tbody.attrs.style\">\r\n          <node v-if=\"tbody.name==='td'||tbody.name==='th'\" :childs=\"tbody.children\" :opts=\"[opts[0],opts[1],opts[2],opts[3],opts[4],opts[5],opts[6]+'.'+i+'.children.'+x+'.children']\" />\r\n          <block v-else v-for=\"(tr, y) in tbody.children\" v-bind:key=\"y\">\r\n            <view v-if=\"tr.name==='td'||tr.name==='th'\" :class=\"'_'+tr.name+' '+tr.attrs.class\" :style=\"tr.attrs.style\">\r\n              <node :childs=\"tr.children\" :opts=\"[opts[0],opts[1],opts[2],opts[3],opts[4],opts[5],opts[6]+'.'+i+'.children.'+x+'.children.'+y+'.children']\" />\r\n            </view>\r\n            <view v-else :class=\"'_'+tr.name+' '+tr.attrs.class\" :style=\"tr.attrs.style\">\r\n              <view v-for=\"(td, z) in tr.children\" v-bind:key=\"z\" :class=\"'_'+td.name+' '+td.attrs.class\" :style=\"td.attrs.style\">\r\n                <node :childs=\"td.children\" :opts=\"[opts[0],opts[1],opts[2],opts[3],opts[4],opts[5],opts[6]+'.'+i+'.children.'+x+'.children.'+y+'.children.'+z+'.children']\" />\r\n              </view>\r\n            </view>\r\n          </block>\r\n        </view>\r\n      </view>\r\n      \r\n      <!-- 富文本 -->\r\n      <!-- #ifdef H5 || MP-WEIXIN || MP-QQ || APP-PLUS || MP-360 -->\r\n      <rich-text v-else-if=\"!opts[4]&&handler.use(n)\" :id=\"n.attrs.id\" :style=\"n.f\" :nodes=\"[n]\" />\r\n      <!-- #endif -->\r\n      <!-- #ifndef H5 || MP-WEIXIN || MP-QQ || APP-PLUS || MP-360 -->\r\n      <rich-text v-else-if=\"!opts[4]&&!n.c\" :id=\"n.attrs.id\" :style=\"n.f+';display:inline'\" :preview=\"false\" :nodes=\"[n]\" />\r\n      <!-- #endif -->\r\n      <!-- 继续递归 -->\r\n      <view v-else-if=\"n.c===2\" :id=\"n.attrs.id\" :class=\"'_'+n.name+' '+n.attrs.class\" :style=\"n.f+';'+n.attrs.style\">\r\n        <node v-for=\"(n2, j) in n.children\" v-bind:key=\"j\" :style=\"n2.f\" :name=\"n2.name\" :attrs=\"n2.attrs\" :childs=\"n2.children\" :opts=\"[opts[0],opts[1],opts[2],opts[3],opts[4],opts[5],opts[6]+'.'+i+'.children.'+j+'.children']\" />\r\n      </view>\r\n      <node v-else :style=\"n.f\" :name=\"n.name\" :attrs=\"n.attrs\" :childs=\"n.children\" :opts=\"[opts[0],opts[1],opts[2],opts[3],opts[4],opts[5],opts[6]+'.'+i+'.children']\" />\r\n    </block>\r\n  </view>\r\n</template>\r\n<script module=\"handler\" lang=\"wxs\">\r\n// 行内标签列表\r\nvar inlineTags = {\r\n  abbr: true,\r\n  b: true,\r\n  big: true,\r\n  code: true,\r\n  del: true,\r\n  em: true,\r\n  i: true,\r\n  ins: true,\r\n  label: true,\r\n  q: true,\r\n  small: true,\r\n  span: true,\r\n  strong: true,\r\n  sub: true,\r\n  sup: true\r\n}\r\n/**\r\n * @description 是否使用 rich-text 显示剩余内容\r\n */\r\nmodule.exports = {\r\n  use: function (item) {\r\n    if (item.c) return false\r\n    // 微信和 QQ 的 rich-text inline 布局无效\r\n    return !inlineTags[item.name] && (item.attrs.style || '').indexOf('display:inline') == -1\r\n  }\r\n}\r\n</script>\r\n<script>\nfunction getTop(e) {\n  let top\n  // #ifdef H5 || APP-PLUS\n  top = e.touches[0].pageY\n  // #endif\n  // #ifdef MP-ALIPAY\n  top = e.detail.pageY\n  // #endif\n  // #ifndef H5 || MP-ALIPAY || APP-PLUS\n  top = e.detail.y\n  // #endif\n  if (top - e.currentTarget.offsetTop < 150)\n    top = e.currentTarget.offsetTop\n  if (top < 30)\n    top += 70\n  return top - 30\n}\n\r\nimport node from './node'\r\nexport default {\r\n  name: 'node',\r\n  options: {\r\n    // #ifdef MP-WEIXIN\r\n    virtualHost: true,\r\n    // #endif\r\n    // #ifdef MP-TOUTIAO\r\n    addGlobalClass: false\r\n    // #endif\r\n  },\r\n  data () {\r\n    return {\r\n      ctrl: {}\r\n    }\r\n  },\r\n  props: {\r\n    name: String,\r\n    attrs: {\r\n      type: Object,\r\n      default () {\r\n        return {}\r\n      }\r\n    },\r\n    childs: Array,\r\n    opts: Array\r\n  },\r\n  components: {\n\r\n    node\r\n  },\r\n  mounted () {\r\n    this.$nextTick(() => {\r\n      for (this.root = this.$parent; this.root.$options.name !== 'mp-html'; this.root = this.root.$parent);\r\n    })\r\n    // #ifdef H5 || APP-PLUS\r\n    if (this.opts[0]) {\r\n      let i\r\n      for (i = this.childs.length; i--;) {\r\n        if (this.childs[i].name === 'img') break\r\n      }\r\n      if (i !== -1) {\r\n        this.observer = uni.createIntersectionObserver(this).relativeToViewport({\r\n          top: 500,\r\n          bottom: 500\r\n        })\r\n        this.observer.observe('._img', res => {\r\n          if (res.intersectionRatio) {\r\n            this.$set(this.ctrl, 'load', 1)\r\n            this.observer.disconnect()\r\n          }\r\n        })\r\n      }\r\n    }\r\n    // #endif\r\n  },\r\n  beforeDestroy () {\n  if (this.root._edit === this) {\n    this.root._edit = undefined\n  }\r\n    // #ifdef H5 || APP-PLUS\r\n    if (this.observer) {\r\n      this.observer.disconnect()\r\n    }\r\n    // #endif\r\n  },\r\n  methods:{editStart (e) {\r\n      if (this.opts[4]) {\r\n        const i = e.currentTarget.dataset.i\r\n        if (!this.ctrl['e' + i]) {\r\n          // 显示虚线框\r\n          this.$set(this.ctrl, 'e' + i, 1)\r\n          setTimeout(() => {\r\n            this.root._mask.push(() => this.$set(this.ctrl, 'e' + i, 0))\r\n          }, 50)\r\n          this.root._edit = this\r\n          this.i = i\r\n          this.cursor = this.childs[i].text.length\r\n        } else {\r\n          this.root._mask.pop()\r\n          this.root._maskTap()\r\n          // 将 text 转为 textarea\r\n          this.$set(this.ctrl, 'e' + i, 2)\r\n          // 延时对焦，避免高度错误\r\n          setTimeout(() => {\r\n            this.$set(this.ctrl, 'e' + i, 3)\r\n          }, 50)\r\n        }\r\n      }\r\n    },editInput (e) {\r\n      const i = e.target.dataset.i\r\n      // 替换连续空格\r\n      const value = e.detail.value.replace(/ {2,}/, $ => {\r\n        let res = '\\xa0'\r\n        for (let i = 1; i < $.length; i++) {\r\n          res += '\\xa0'\r\n        }\r\n        return res\r\n      })\r\n      this.root._editVal(`${this.opts[6]}.${i}.text`, this.childs[i].text, value) // 记录编辑历史\r\n      this.cursor = e.detail.cursor\r\n    },editEnd (e) {\r\n      const i = e.target.dataset.i\r\n      this.$set(this.ctrl, 'e' + i, 0)\r\n      // 更新到视图\r\n      this.root._setData(`${this.opts[6]}.${i}.text`, e.detail.value)\r\n    },insert (node) {\r\n      setTimeout(() => {\r\n        const childs = this.childs.slice(0)\r\n        if (!childs[this.i]) {\r\n          childs.push(node)\r\n        } else if (childs[this.i].text) {\r\n          // 在文本中插入\r\n          const text = childs[this.i].text\r\n          const list = []\r\n          if (this.cursor) {\r\n            list.push({\r\n              type: 'text',\r\n              text: text.substring(0, this.cursor)\r\n            })\r\n          }\r\n          list.push(node)\r\n          if (this.cursor < text.length) {\r\n            list.push({\r\n              type: 'text',\r\n              text: text.substring(this.cursor)\r\n            })\r\n          }\r\n          childs.splice(this.i, 1, ...list)\r\n        } else {\r\n          childs.splice(parseInt(this.i) + 1, 0, node)\r\n        }\r\n        this.root._editVal(this.opts[6], this.childs, childs, true)\r\n      }, 200)\r\n    },remove (i) {\r\n      const arr = this.childs.slice(0)\r\n      arr.splice(i, 1)\r\n      this.root._edit = undefined\r\n      this.root._maskTap()\r\n      this.root._editVal(this.opts[6], this.childs, arr, true)\r\n    },nodeTap (e) {\r\n      if (this.opts[4]) {\r\n        if (this.root._lock) return\r\n        this.root._lock = true\r\n        setTimeout(() => {\r\n          this.root._lock = false\r\n        }, 50)\r\n        if (this.ctrl['e' + this.i] === 3) return\r\n        this.root._maskTap()\r\n        this.root._edit = this\r\n        let start = this.opts[6].lastIndexOf('children.')\r\n        if (start !== -1) {\r\n          start += 9\r\n        } else {\r\n          start = 6\r\n        }\r\n        const i = parseInt(this.opts[6].substring(start, this.opts[6].lastIndexOf('.children')))\r\n        let parent = this.$parent\r\n        while (parent && parent.$options.name !== 'node') {\r\n          parent = parent.$parent\r\n        }\r\n        if (!parent || this.opts[6].length - parent.opts[6].length > 15) return\r\n        // 显示实线框\r\n        this.$set(this.ctrl, 'root', 1)\r\n        this.root._mask.push(() => this.$set(this.ctrl, 'root', 0))\r\n        if (this.childs.length === 1 && this.childs[0].type === 'text' && !this.ctrl.e0) {\r\n          this.$set(this.ctrl, 'e0', 1)\r\n          this.root._mask.push(() => this.$set(this.ctrl, 'e0', 0))\r\n          this.i = 0\r\n          this.cursor = this.childs[0].text.length\r\n        }\r\n        const items = this.root._getItem(parent.childs[i])\r\n        this.root._tooltip({\r\n          top: getTop(e),\r\n          items,\r\n          success: tapIndex => {\r\n            if (items[tapIndex] === '大小') {\r\n              // 改变字体大小\r\n              const style = parent.childs[i].attrs.style || ''\r\n              let value = style.match(/;font-size:([0-9]+)px/)\r\n              if (value) {\r\n                value = parseInt(value[1])\r\n              } else {\r\n                value = 16\r\n              }\r\n              this.root._slider({\r\n                min: 10,\r\n                max: 30,\r\n                value,\r\n                top: getTop(e),\r\n                changing: val => {\r\n                  if (Math.abs(val - value) > 2) {\r\n                    // 字号变换超过 2 时更新到视图\r\n                    parent.changeStyle('font-size', i, val + 'px', value + 'px')\r\n                    value = e.detail.value\r\n                  }\r\n                },\r\n                change: val => {\r\n                  if (val !== value) {\r\n                    parent.changeStyle('font-size', i, val + 'px', value + 'px')\r\n                  }\r\n                  this.root._editVal(`${parent.opts[6]}.${i}.attrs.style`, style, parent.childs[i].attrs.style)\r\n                }\r\n              })\r\n            } else if (items[tapIndex] === '删除') {\r\n              parent.remove(i)\r\n            } else {\r\n              const style = parent.childs[i].attrs.style || ''\r\n              let newStyle = ''\r\n              const item = items[tapIndex]\r\n              let name\r\n              let value\r\n              if (item === '斜体') {\r\n                name = 'font-style'\r\n                value = 'italic'\r\n              } else if (item === '粗体') {\r\n                name = 'font-weight'\r\n                value = 'bold'\r\n              } else if (item === '下划线') {\r\n                name = 'text-decoration'\r\n                value = 'underline'\r\n              } else if (item === '居中') {\r\n                name = 'text-align'\r\n                value = 'center'\r\n              } else if (item === '缩进') {\r\n                name = 'text-indent'\r\n                value = '2em'\r\n              }\r\n              if (style.includes(name + ':')) {\r\n                // 已有则取消\r\n                newStyle = style.replace(new RegExp(name + ':[^;]+'), '')\r\n              } else {\r\n                // 没有则添加\r\n                newStyle = style + ';' + name + ':' + value\r\n              }\r\n              this.root._editVal(`${parent.opts[6]}.${i}.attrs.style`, style, newStyle, true)\r\n            }\r\n          }\r\n        })\r\n      }\r\n    },mediaTap (e) {\r\n      if (this.opts[4]) {\r\n        const i = e.target.dataset.i\r\n        const node = this.childs[i]\r\n        const items = this.root._getItem(node)\r\n        this.root._edit = this\r\n        this.i = i\r\n        this.root._tooltip({\r\n          top: e.target.offsetTop - 30,\r\n          items,\r\n          success: tapIndex => {\r\n            if (items[tapIndex] === '封面') {\r\n              // 设置封面\r\n              this.root.getSrc('img', node.attrs.poster).then(url => {\r\n                this.root._editVal(`${this.opts[6]}.${i}.attrs.poster`, node.attrs.poster, url, true)\r\n              }).catch(() => { })\r\n            } else if (items[tapIndex] === '删除') {\r\n              this.remove(i)\r\n            } else {\r\n              // 切换循环播放\r\n              this.root._setData(`${this.opts[6]}.${i}.attrs.loop`, !node.attrs.loop)\r\n              uni.showToast({\r\n                title: '成功'\r\n              })\r\n            }\r\n          }\r\n        })\r\n        // 避免上层出现点击态\r\n        this.root._lock = true\r\n        setTimeout(() => {\r\n          this.root._lock = false\r\n        }, 50)\r\n      }\r\n    },changeStyle (name, i, value, oldVal) {\r\n      let style = this.childs[i].attrs.style || ''\r\n      if (style.includes(';' + name + ':' + oldVal)) {\r\n        // style 中已经有\r\n        style = style.replace(';' + name + ':' + oldVal, ';' + name + ':' + value)\r\n      } else {\r\n        // 没有则新增\r\n        style += ';' + name + ':' + value\r\n      }\r\n      this.root._setData(`${this.opts[6]}.${i}.attrs.style`, style)\r\n    },\r\n    // #ifdef MP-WEIXIN\r\n    toJSON () { },\r\n    // #endif\r\n    /**\r\n     * @description 播放视频事件\r\n     * @param {Event} e\r\n     */\r\n    play (e) {\r\n      // #ifndef APP-PLUS\r\n      if (this.root.pauseVideo) {\r\n        let flag = false; const id = e.target.id\r\n        for (let i = this.root._videos.length; i--;) {\r\n          if (this.root._videos[i].id === id) {\r\n            flag = true\r\n          } else {\r\n            this.root._videos[i].pause() // 自动暂停其他视频\r\n          }\r\n        }\r\n        // 将自己加入列表\r\n        if (!flag) {\r\n          const ctx = uni.createVideoContext(id\r\n            // #ifndef MP-BAIDU\r\n            , this\r\n            // #endif\r\n          )\r\n          ctx.id = id\r\n          this.root._videos.push(ctx)\r\n        }\r\n      }\r\n      // #endif\r\n    },\r\n\r\n    /**\r\n     * @description 图片点击事件\r\n     * @param {Event} e\r\n     */\r\n    imgTap (e) {\n      if (!this.opts[4]) {\r\n      const node = this.childs[e.currentTarget.dataset.i]\r\n      if (node.a) {\r\n        this.linkTap(node.a)\r\n        return\r\n      }\r\n      if (node.attrs.ignore) return\r\n      // #ifdef H5 || APP-PLUS\r\n      node.attrs.src = node.attrs.src || node.attrs['data-src']\r\n      // #endif\r\n      this.root.$emit('imgtap', node.attrs)\r\n      // 自动预览图片\r\n      if (this.root.previewImg) {\r\n        uni.previewImage({\r\n          current: parseInt(node.attrs.i),\r\n          urls: this.root.imgList\r\n        })\r\n      }\r\n    } else {\n        const i = e.currentTarget.dataset.i\n        const node = this.childs[i]\n        const items = this.root._getItem(node)\n        this.root._edit = this\n        this.i = i\n        this.root._maskTap()\n        this.$set(this.ctrl, 'e' + i, 1)\n        this.root._mask.push(() => this.$set(this.ctrl, 'e' + i, 0))\n        this.root._tooltip({\n          top: getTop(e),\n          items,\n          success: tapIndex => {\n            if (items[tapIndex] === '换图') {\n              // 换图\n              this.root.getSrc('img', node.attrs.src).then(src => {\n                this.root._editVal(this.opts[6] + '.' + i + '.attrs.src', node.attrs.src, src, true)\n              }).catch(() => { })\n            } else if (items[tapIndex] === '宽度') {\n              // 更改宽度\n              const style = node.attrs.style || ''\n              let value = style.match(/max-width:([0-9]+)%/)\n              if (value) {\n                value = parseInt(value[1])\n              } else {\n                value = 100\n              }\n              this.root._slider({\n                min: 0,\n                max: 100,\n                value,\n                top: getTop(e),\n                changing: val => {\n                  // 变化超过 5% 更新时视图\n                  if (Math.abs(val - value) > 5) {\n                    this.changeStyle('max-width', i, val + '%', value + '%')\n                    value = val\n                  }\n                },\n                change: val => {\n                  if (val !== value) {\n                    this.changeStyle('max-width', i, val + '%', value + '%')\n                    value = val\n                  }\n                  this.root._editVal(this.opts[6] + '.' + i + '.attrs.style', style, this.childs[i].attrs.style)\n                }\n              })\n            } else if (items[tapIndex] === '超链接') {\n              // 将图片设置为链接\n              this.root.getSrc('link', node.a ? node.a.href : '').then(url => {\n                // 如果有 a 标签则替换 href\n                if (node.a) {\n                  this.root._editVal(this.opts[6] + '.' + i + '.a.href', node.a.href, url, true)\n                } else {\n                  const link = {\n                    name: 'a',\n                    attrs: {\n                      href: url\n                    },\n                    children: [node]\n                  }\n                  node.a = link.attrs\n                  this.root._editVal(this.opts[6] + '.' + i, node, link, true)\n                }\n                wx.showToast({\n                  title: '成功'\n                })\n              }).catch(() => { })\n            } else if (items[tapIndex] === '预览图') {\n              // 设置预览图链接\n              this.root.getSrc('img', node.attrs['original-src']).then(url => {\n                this.root._editVal(this.opts[6] + '.' + i + '.attrs.original-src', node.attrs['original-src'], url, true)\n                uni.showToast({\n                  title: '成功'\n                })\n              }).catch(() => { })\n            } else if (items[tapIndex] === '删除') {\n              this.remove(i)\n            } else {\n              // 禁用 / 启用预览\n              this.root._setData(this.opts[6] + '.' + i + '.attrs.ignore', !node.attrs.ignore)\n              uni.showToast({\n                title: '成功'\n              })\n            }\n          }\n        })\n        this.root._lock = true\n        setTimeout(() => {\n          this.root._lock = false\n        }, 50)\n      }\n    },\n    /**\r\n     * @description 图片长按\r\n     */\r\n    imgLongTap (e) {\r\n      // #ifdef APP-PLUS\r\n      const attrs = this.childs[e.currentTarget.dataset.i].attrs\r\n      if (this.opts[3] && !attrs.ignore) {\r\n        uni.showActionSheet({\r\n          itemList: ['保存图片'],\r\n          success: () => {\r\n            const save = path => {\r\n              uni.saveImageToPhotosAlbum({\r\n                filePath: path,\r\n                success () {\r\n                  uni.showToast({\r\n                    title: '保存成功'\r\n                  })\r\n                }\r\n              })\r\n            }\r\n            if (this.root.imgList[attrs.i].startsWith('http')) {\r\n              uni.downloadFile({\r\n                url: this.root.imgList[attrs.i],\r\n                success: res => save(res.tempFilePath)\r\n              })\r\n            } else {\r\n              save(this.root.imgList[attrs.i])\r\n            }\r\n          }\r\n        })\r\n      }\r\n      // #endif\r\n    },\r\n\r\n    /**\r\n     * @description 图片加载完成事件\r\n     * @param {Event} e\r\n     */\r\n    imgLoad(e) {\n      // #ifdef MP-WEIXIN || MP-QQ\n      if (this.opts[4])\n        this.$nextTick(() => {\n          const id = this.childs[i].attrs.id || ('n' + i)\n          uni.createSelectorQuery().in(this).select('#' + id).boundingClientRect().exec(res => {\n            this.$set(this.ctrl, 'h'+i, res[0].height)\n          })\n        })\n      // #endif\r\n      const i = e.currentTarget.dataset.i\r\n      /* #ifndef H5 || APP-PLUS */\r\n      if (!this.childs[i].w) {\n        this.$set(this.ctrl, i, e.detail.width)\n        if (this.opts[4]) {\n          const path = this.opts[6] + '.' + i + '.attrs.'\n          if (e.detail.width < 150)\n            this.root._setData(path + 'ignore', 'T')\n          this.root._setData(path + 'width', e.detail.width.toString())\n        }\n      } else /* #endif */ if ((this.opts[1] && !this.ctrl[i]) || this.ctrl[i] === -1) {\r\n        // 加载完毕，取消加载中占位图\r\n        this.$set(this.ctrl, i, 1)\r\n      }\r\n    },\r\n\r\n    /**\r\n     * @description 链接点击事件\r\n     * @param {Event} e\r\n     */\r\n    linkTap (e) {\n      if (!this.opts[4]) {\r\n      const node = e.currentTarget ? this.childs[e.currentTarget.dataset.i] : {}\r\n      const attrs = node.attrs || e\r\n      const href = attrs.href\r\n      this.root.$emit('linktap', Object.assign({\r\n        innerText: this.root.getText(node.children || []) // 链接内的文本内容\r\n      }, attrs))\r\n      if (href) {\r\n        if (href[0] === '#') {\r\n          // 跳转锚点\r\n          this.root.navigateTo(href.substring(1)).catch(() => { })\r\n        } else if (href.includes('://')) {\r\n          // 复制外部链接\r\n          if (this.root.copyLink) {\r\n            // #ifdef H5\r\n            window.open(href)\r\n            // #endif\r\n            // #ifdef MP\r\n            uni.setClipboardData({\r\n              data: href,\r\n              success: () =>\r\n                uni.showToast({\r\n                  title: '链接已复制'\r\n                })\r\n            })\r\n            // #endif\r\n            // #ifdef APP-PLUS\r\n            plus.runtime.openWeb(href)\r\n            // #endif\r\n          }\r\n        } else {\r\n          // 跳转页面\r\n          uni.navigateTo({\r\n            url: href,\r\n            fail () {\r\n              uni.switchTab({\r\n                url: href,\r\n                fail () { }\r\n              })\r\n            }\r\n          })\r\n        }\r\n      }\r\n    } else {\n        const i = e.currentTarget.dataset.i\n        const node = this.childs[i]\n        const items = this.root._getItem(node)\n        this.root._tooltip({\n          top: getTop(e),\n          items,\n          success: tapIndex => {\n            if (items[tapIndex] === '更换链接') {\n              this.root.getSrc('link', node.attrs.href).then(url => {\n                this.root._editVal(this.opts[6] + '.' + i + '.attrs.href', node.attrs.href, url, true)\n                uni.showToast({\n                  title: '成功'\n                })\n              }).catch(() => { })\n            } else {\n              this.remove(i)\n            }\n          }\n        })\n      }\n    },\n    /**\r\n     * @description 错误事件\r\n     * @param {Event} e\r\n     */\r\n    mediaError (e) {\r\n      const i = e.currentTarget.dataset.i\r\n      const node = this.childs[i]\r\n      // 加载其他源\r\n      if (node.name === 'video' || node.name === 'audio') {\r\n        let index = (this.ctrl[i] || 0) + 1\r\n        if (index > node.src.length) {\r\n          index = 0\r\n        }\r\n        if (index < node.src.length) {\r\n          this.$set(this.ctrl, i, index)\r\n          return\r\n        }\r\n      } else if (node.name === 'img' && this.opts[2]) {\r\n        // 显示错误占位图\r\n        this.$set(this.ctrl, i, -1)\r\n      }\r\n      if (this.root) {\r\n        this.root.$emit('error', {\r\n          source: node.name,\r\n          attrs: node.attrs,\r\n          errMsg: e.detail.errMsg\r\n        })\r\n      }\r\n    }\r\n  }\r\n}\r\n</script>\r\n<style>/* #ifndef H5 || MP-ALIPAY || APP-PLUS */\n  ._address,\n  ._article,\n  ._aside,\n  ._body,\n  ._caption,\n  ._center,\n  ._cite,\n  ._footer,\n  ._header,\n  ._html,\n  ._nav,\n  ._pre,\n  ._section {\n    display: block;\n  }\n  \n  /* #endif */\n  ._video {\n    width: 300px;\n    height: 225px;\n    display: inline-block;\n    background-color: black;\n  }\r\n/* a 标签默认效果 */\r\n._a {\r\n  padding: 1.5px 0 1.5px 0;\r\n  color: #366092;\r\n  word-break: break-all;\r\n}\r\n\r\n/* a 标签点击态效果 */\r\n._hover {\r\n  text-decoration: underline;\r\n  opacity: 0.7;\r\n}\r\n\r\n/* 图片默认效果 */\r\n._img {\r\n  max-width: 100%;\r\n  -webkit-touch-callout: none;\r\n}\r\n\r\n/* 内部样式 */\r\n\r\n._b,\r\n._strong {\r\n  font-weight: bold;\r\n}\r\n\r\n._code {\r\n  font-family: monospace;\r\n}\r\n\r\n._del {\r\n  text-decoration: line-through;\r\n}\r\n\r\n._em,\r\n._i {\r\n  font-style: italic;\r\n}\r\n\r\n._h1 {\r\n  font-size: 2em;\r\n}\r\n\r\n._h2 {\r\n  font-size: 1.5em;\r\n}\r\n\r\n._h3 {\r\n  font-size: 1.17em;\r\n}\r\n\r\n._h5 {\r\n  font-size: 0.83em;\r\n}\r\n\r\n._h6 {\r\n  font-size: 0.67em;\r\n}\r\n\r\n._h1,\r\n._h2,\r\n._h3,\r\n._h4,\r\n._h5,\r\n._h6 {\r\n  display: block;\r\n  font-weight: bold;\r\n}\r\n\r\n._image {\r\n  height: 1px;\r\n}\r\n\r\n._ins {\r\n  text-decoration: underline;\r\n}\r\n\r\n._li {\r\n  display: list-item;\r\n}\r\n\r\n._ol {\r\n  list-style-type: decimal;\r\n}\r\n\r\n._ol,\r\n._ul {\r\n  display: block;\r\n  padding-left: 40px;\r\n  margin: 1em 0;\r\n}\r\n\r\n._q::before {\r\n  content: '\"';\r\n}\r\n\r\n._q::after {\r\n  content: '\"';\r\n}\r\n\r\n._sub {\r\n  font-size: smaller;\r\n  vertical-align: sub;\r\n}\r\n\r\n._sup {\r\n  font-size: smaller;\r\n  vertical-align: super;\r\n}\r\n\r\n._thead,\r\n._tbody,\r\n._tfoot {\r\n  display: table-row-group;\r\n}\r\n\r\n._tr {\r\n  display: table-row;\r\n}\r\n\r\n._td,\r\n._th {\r\n  display: table-cell;\r\n  vertical-align: middle;\r\n}\r\n\r\n._th {\r\n  font-weight: bold;\r\n  text-align: center;\r\n}\r\n\r\n._ul {\r\n  list-style-type: disc;\r\n}\r\n\r\n._ul ._ul {\r\n  margin: 0;\r\n  list-style-type: circle;\r\n}\r\n\r\n._ul ._ul ._ul {\r\n  list-style-type: square;\r\n}\r\n\r\n._abbr,\r\n._b,\r\n._code,\r\n._del,\r\n._em,\r\n._i,\r\n._ins,\r\n._label,\r\n._q,\r\n._span,\r\n._strong,\r\n._sub,\r\n._sup {\r\n  display: inline;\r\n}\r\n\r\n/* #ifdef APP-PLUS */\r\n._video {\r\n  width: 300px;\r\n  height: 225px;\r\n}\r\n/* #endif */\r\n</style>","import mod from \"-!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--6-oneOf-1-2!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-3!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./node.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--6-oneOf-1-2!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-3!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./node.vue?vue&type=style&index=0&lang=css&\"","import mod from \"-!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-filter-loader/index.js!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./node.vue?vue&type=custom&index=0&blockType=script&module=handler&lang=wxs\"; export default mod; export * from \"-!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-filter-loader/index.js!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./node.vue?vue&type=custom&index=0&blockType=script&module=handler&lang=wxs\"","export default function (Component) {\n       if(!Component.options.wxsCallMethods){\n         Component.options.wxsCallMethods = []\n       }\n       \n     }"],"sourceRoot":""}