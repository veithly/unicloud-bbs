{"version":3,"sources":["webpack:////Users/ricky/Documents/Study/uniapp/bbs_study/pages/post/post.vue?329b","uni-app:///main.js","webpack:////Users/ricky/Documents/Study/uniapp/bbs_study/pages/post/post.vue?18f7","webpack:////Users/ricky/Documents/Study/uniapp/bbs_study/pages/post/post.vue?b6a6","webpack:////Users/ricky/Documents/Study/uniapp/bbs_study/pages/post/post.vue?f5f6","webpack:////Users/ricky/Documents/Study/uniapp/bbs_study/pages/post/post.vue?65c1","uni-app:///pages/post/post.vue","webpack:////Users/ricky/Documents/Study/uniapp/bbs_study/pages/post/follow.vue?f306","webpack:////Users/ricky/Documents/Study/uniapp/bbs_study/pages/post/follow.vue?19de","webpack:////Users/ricky/Documents/Study/uniapp/bbs_study/pages/post/follow.vue?494d","webpack:////Users/ricky/Documents/Study/uniapp/bbs_study/pages/post/follow.vue?13d5","uni-app:///pages/post/follow.vue"],"names":["wx","__webpack_require_UNI_MP_PLUGIN__","__webpack_require__","createPage","Page","renderjs","component","options","__file","components","cSticky","cStatusBar","unicloudDb","uniPopup","cImage","uniDateformat","cErrorTip","cScrollLoadMore","mpHtml","cBackTop","cDesc","cComment","cTemp","e","message","indexOf","console","error","render","_vm","this","_h","$createElement","m0","_self","_c","$hasScopedSlotsParams","m1","$getScopedSlotsParams","m2","m3","m4","m5","m6","content","m7","m8","m9","l0","m10","m11","m12","activeColor","post","praiseStatus","$mp","data","Object","assign","$root","recyclableRender","staticRenderFns","_withStripped","cButton"],"mappings":"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","file":"pages/post/post.js","sourcesContent":["import mod from \"-!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--6-oneOf-1-2!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-3!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./post.vue?vue&type=style&index=0&id=427e1906&scoped=true&lang=css&\"; export default mod; export * from \"-!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--6-oneOf-1-2!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-3!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./post.vue?vue&type=style&index=0&id=427e1906&scoped=true&lang=css&\"","import 'uni-pages';wx.__webpack_require_UNI_MP_PLUGIN__ = __webpack_require__;\nimport Vue from 'vue'\nimport Page from './pages/post/post.vue'\ncreatePage(Page)","import { render, staticRenderFns, recyclableRender, components } from \"./post.vue?vue&type=template&id=427e1906&scoped=true&\"\nvar renderjs\nimport script from \"./post.vue?vue&type=script&lang=js&\"\nexport * from \"./post.vue?vue&type=script&lang=js&\"\nimport style0 from \"./post.vue?vue&type=style&index=0&id=427e1906&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"427e1906\",\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"pages/post/post.vue\"\nexport default component.exports","export * from \"-!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--16-0!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./post.vue?vue&type=template&id=427e1906&scoped=true&\"","var components\ntry {\n  components = {\n    cSticky: function() {\n      return import(\n        /* webpackChunkName: \"components/c-sticky/c-sticky\" */ \"@/components/c-sticky/c-sticky.vue\"\n      )\n    },\n    cStatusBar: function() {\n      return import(\n        /* webpackChunkName: \"components/c-status-bar/c-status-bar\" */ \"@/components/c-status-bar/c-status-bar.vue\"\n      )\n    },\n    unicloudDb: function() {\n      return import(\n        /* webpackChunkName: \"node-modules/@dcloudio/uni-cli-shared/components/unicloud-db\" */ \"@dcloudio/uni-cli-shared/components/unicloud-db.vue\"\n      )\n    },\n    uniPopup: function() {\n      return import(\n        /* webpackChunkName: \"uni_modules/uni-popup/components/uni-popup/uni-popup\" */ \"@/uni_modules/uni-popup/components/uni-popup/uni-popup.vue\"\n      )\n    },\n    cImage: function() {\n      return import(\n        /* webpackChunkName: \"components/c-image/c-image\" */ \"@/components/c-image/c-image.vue\"\n      )\n    },\n    uniDateformat: function() {\n      return import(\n        /* webpackChunkName: \"uni_modules/uni-dateformat/components/uni-dateformat/uni-dateformat\" */ \"@/uni_modules/uni-dateformat/components/uni-dateformat/uni-dateformat.vue\"\n      )\n    },\n    cErrorTip: function() {\n      return import(\n        /* webpackChunkName: \"components/c-error-tip/c-error-tip\" */ \"@/components/c-error-tip/c-error-tip.vue\"\n      )\n    },\n    cScrollLoadMore: function() {\n      return import(\n        /* webpackChunkName: \"components/c-scroll-load-more/c-scroll-load-more\" */ \"@/components/c-scroll-load-more/c-scroll-load-more.vue\"\n      )\n    },\n    mpHtml: function() {\n      return import(\n        /* webpackChunkName: \"components/mp-html/mp-html\" */ \"@/components/mp-html/mp-html.vue\"\n      )\n    },\n    cBackTop: function() {\n      return import(\n        /* webpackChunkName: \"components/c-back-top/c-back-top\" */ \"@/components/c-back-top/c-back-top.vue\"\n      )\n    },\n    cDesc: function() {\n      return import(\n        /* webpackChunkName: \"components/c-desc/c-desc\" */ \"@/components/c-desc/c-desc.vue\"\n      )\n    },\n    cComment: function() {\n      return import(\n        /* webpackChunkName: \"components/c-comment/c-comment\" */ \"@/components/c-comment/c-comment.vue\"\n      )\n    },\n    cTemp: function() {\n      return import(\n        /* webpackChunkName: \"components/c-temp/c-temp\" */ \"@/components/c-temp/c-temp.vue\"\n      )\n    }\n  }\n} catch (e) {\n  if (\n    e.message.indexOf(\"Cannot find module\") !== -1 &&\n    e.message.indexOf(\".vue\") !== -1\n  ) {\n    console.error(e.message)\n    console.error(\"1. 排查组件名称拼写是否正确\")\n    console.error(\n      \"2. 排查组件是否符合 easycom 规范，文档：https://uniapp.dcloud.net.cn/collocation/pages?id=easycom\"\n    )\n    console.error(\n      \"3. 若组件不符合 easycom 规范，需手动引入，并在 components 中注册该组件\"\n    )\n  } else {\n    throw e\n  }\n}\nvar render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  var m0 = _vm.$hasScopedSlotsParams(\"0d4588c0-11\")\n  var m1 = m0\n    ? _vm.$getScopedSlotsParams(\"0d4588c0-11\", \"default\", \"error\")\n    : null\n  var m2 =\n    m0 && m1\n      ? _vm.$getScopedSlotsParams(\"0d4588c0-11\", \"default\", \"error\")\n      : null\n  var m3 =\n    m0 && !m1\n      ? _vm.$getScopedSlotsParams(\"0d4588c0-11\", \"default\", \"loading\")\n      : null\n  var m4 =\n    m0 && !m1 && m3\n      ? _vm.$getScopedSlotsParams(\"0d4588c0-11\", \"default\", \"loading\")\n      : null\n  var m5 =\n    m0 && !m1 && m3\n      ? _vm.$getScopedSlotsParams(\"0d4588c0-11\", \"default\", \"hasMore\")\n      : null\n  var m6 =\n    m0 && !m1 && !m3\n      ? _vm.$getScopedSlotsParams(\"0d4588c0-11\", \"default\", \"data\") &&\n        _vm.$getScopedSlotsParams(\"0d4588c0-11\", \"default\", \"data\").content\n      : null\n  var m7 = _vm.$hasScopedSlotsParams(\"0d4588c0-16\")\n  var m8 = m7\n    ? _vm.$getScopedSlotsParams(\"0d4588c0-16\", \"default\", \"error\")\n    : null\n  var m9 =\n    m7 && m8\n      ? _vm.$getScopedSlotsParams(\"0d4588c0-16\", \"default\", \"error\")\n      : null\n  var l0 =\n    m7 && !m8\n      ? _vm.$getScopedSlotsParams(\"0d4588c0-16\", \"default\", \"data\")\n      : null\n  var m10 =\n    m7 && !m8\n      ? _vm.$getScopedSlotsParams(\"0d4588c0-16\", \"default\", \"hasMore\")\n      : null\n  var m11 =\n    m7 && !m8\n      ? _vm.$getScopedSlotsParams(\"0d4588c0-16\", \"default\", \"loading\")\n      : null\n  var m12 = _vm.activeColor(_vm.post.praiseStatus)\n  _vm.$mp.data = Object.assign(\n    {},\n    {\n      $root: {\n        m0: m0,\n        m1: m1,\n        m2: m2,\n        m3: m3,\n        m4: m4,\n        m5: m5,\n        m6: m6,\n        m7: m7,\n        m8: m8,\n        m9: m9,\n        l0: l0,\n        m10: m10,\n        m11: m11,\n        m12: m12\n      }\n    }\n  )\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./post.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./post.vue?vue&type=script&lang=js&\"","<template>\r\n\t<view>\r\n\t\t<c-sticky>\r\n\t\t\t<c-status-bar />\r\n\t\t\t<c-header :title=\"post.title\"><view class=\"iconfont icon-Actions-Controls-open-panel--bottom-32 action-icon\" @tap=\"openPopup\" /></c-header>\r\n\t\t</c-sticky>\r\n\r\n\t\t<unicloud-db v-slot=\"{ data, error }\" collection=\"stock\" ref=\"stock\" :where=\"`user_id == '${uid}' && post_id == '${post._id}'`\">\r\n\t\t\t<uni-popup ref=\"popup\" type=\"bottom\">\r\n\t\t\t\t<view class=\"bg-white flex align-center justify-center flex-column popup\">\r\n\t\t\t\t\t<view v-if=\"error\">{{ error.message }}</view>\r\n\t\t\t\t\t<c-collect v-else :c_id=\"data[0] && data[0]._id\" @collect=\"resolveCollect\" />\r\n\t\t\t\t</view>\r\n\t\t\t</uni-popup>\r\n\t\t</unicloud-db>\r\n\r\n\t\t<view class=\"m-4 flex justify-between align-center\">\r\n\t\t\t<view class=\"flex userInfo\">\r\n\t\t\t\t<c-image :src=\"post.avatarUrl\" class=\"rounded avatar\" />\r\n\t\t\t\t<view class=\"flex flex-column ml-2\">\r\n\t\t\t\t\t<text class=\"font-lg\">{{ post.username }}</text>\r\n\t\t\t\t\t<uni-dateformat class=\"font-sm secondary-color\" :date=\"post.create_date\" format=\"yyyy-MM-dd\" :threshold=\"[60000, 3600000 * 24]\" />\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t\t<view>\r\n\t\t\t\t<unicloud-db v-slot=\"{ data, error }\" collection=\"follows\" ref=\"follows\" :where=\"`user_id == '${uid}' && follow_user_id == '${post.authorID}'`\">\r\n\t\t\t\t\t<view v-if=\"error\">{{ error.message }}</view>\r\n\t\t\t\t\t<view v-else><c-follow :f_id=\"data[0] && data[0]._id\" @follow=\"resolveFollow\" /></view>\r\n\t\t\t\t</unicloud-db>\r\n\t\t\t</view>\r\n\t\t</view>\r\n\r\n\t\t<!-- 内容区 -->\r\n\t\t<unicloud-db v-slot=\"{ data, loading, error, hasMore }\" collection=\"posts\" :where=\"`'${post._id}' == _id`\" field=\"content\" getone>\r\n\t\t\t<c-error-tip v-if=\"error\" :msg=\"error.message\" />\r\n\t\t\t<view v-else>\r\n\t\t\t\t<c-scroll-load-more v-if=\"loading\" :loading=\"loading\" :hasMore=\"hasMore\" class=\"mt-5\" />\r\n\r\n\t\t\t\t<mp-html\r\n\t\t\t\t\tv-else\r\n\t\t\t\t\tclass=\"m-4 transition-all\"\r\n\t\t\t\t\t:content=\"data && data.content\"\r\n\t\t\t\t\t@ready=\"onMphtmlReady\"\r\n\t\t\t\t\t@load=\"onMphtmlLoad\"\r\n\t\t\t\t\tref=\"mphtml\"\r\n\t\t\t\t\timg-cache\r\n\t\t\t\t\t:container-style=\"`opacity: ${imgLoadedSuccessStatus ? 1 : 0.4}`\"\r\n\t\t\t\t/>\r\n\r\n\t\t\t\t<view class=\"mx-1 font-sm\" v-if=\"imgLoadedSuccessStatus\">\r\n\t\t\t\t\t<text v-for=\"(u, i) of post.topics\" :key=\"i\" class=\"topic p-1 px-2 mx-2 rounded\">{{ u }}</text>\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t</unicloud-db>\r\n\r\n\t\t<c-back-top bottom=\"130rpx\" />\r\n\r\n\t\t<unicloud-db\r\n\t\t\tv-slot=\"{ data, loading, error, hasMore }\"\r\n\t\t\tcollection=\"comments,uni-id-users\"\r\n\t\t\t:where=\"`post_id == '${post._id}' && comment_type == 0`\"\r\n\t\t\t:field=\"commentsFiled\"\r\n\t\t\t:page-size=\"2\"\r\n\t\t\tv-if=\"imgLoadedSuccessStatus\"\r\n\t\t\tref=\"comments\"\r\n\t\t\torderby=\"comment_date desc\"\r\n\t\t>\r\n\t\t\t<view v-if=\"error\">{{ error.message }}</view>\r\n\t\t\t<view v-else class=\"mt-4\">\r\n\t\t\t\t<c-desc title=\"评论\" />\r\n\t\t\t\t<c-comment v-for=\"v in data\" :key=\"v._id\" :v=\"v\" @praise=\"resolveCommentPraise\" @action=\"resolveCommentAction\" :requestFn=\"countComment\"/>\r\n\t\t\t\t<c-scroll-load-more :hasMore=\"hasMore\" :loading=\"loading\" />\r\n\t\t\t</view>\r\n\t\t</unicloud-db>\r\n\r\n\t\t<view style=\"height: 180rpx;\" />\r\n\r\n\t\t<view class=\"position-fixed bottom-0 bg-white w-100 flex align-center px-3\" style=\"height: 110rpx;\">\r\n\t\t\t<view style=\"width: 450rpx;\"><c-post-comment-release @release=\"postCommentRelease\" /></view>\r\n\r\n\t\t\t<view class=\"iconfont flex align-center\" style=\"width: 24rpx;\">\r\n\t\t\t\t<view class=\"ml-4\">\r\n\t\t\t\t\t<c-temp v-slot=\"{op}\" :class=\"[activeColor(post.praiseStatus)]\">\r\n\t\t\t\t\t\t<text @tap=\"postPraise(op)\" class=\"icon-dianzan action-icon mr-1\" />\r\n\t\t\t\t\t\t<text v-if=\"post.praiseNum\">{{ post.praiseNum }}</text>\r\n\t\t\t\t\t</c-temp>\r\n\t\t\t\t</view>\r\n\t\t\t\t<view class=\"ml-4\" @click=\"toCommentPosition\">\r\n\t\t\t\t\t<text class=\"icon-pinglun action-icon mr-1\" />\r\n\t\t\t\t\t<text v-if=\"totalCommentCount\">{{totalCommentCount}}</text>\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t</view>\r\n\t</view>\r\n</template>\r\n\r\n<script>\r\nimport cHeader from './header.vue'\r\nimport cFollow from './follow.vue'\r\nimport cCollect from './collect.vue'\r\nimport cPostCommentRelease from './post-comment-release.vue'\r\nimport BackTopMixin from '@/components/c-back-top/c-back-top-mixin.js'\r\nexport default {\r\n\tmixins: [BackTopMixin],\r\n\tcomponents: {\r\n\t\tcHeader,\r\n\t\tcCollect,\r\n\t\tcFollow,\r\n\t\tcPostCommentRelease,\r\n\t},\r\n\tdestroyed() {\r\n\t\tuni.$emit('clearImgCache')\r\n\t},\r\n\tonLoad() {\r\n\t\t// 生成环境下\r\n\t\tuni.$emit('getPost', v => this.post = v)\r\n\r\n\t\t// 开发环境下\r\n\t\t// this.post = uni.getStorageSync('post')\r\n\t\t\r\n\t\t\r\n\t\tthis.refreshHistory()\r\n\t\t\r\n\t\t// 计算文章评论数量\r\n\t\tthis.countTotalComment()\r\n\t},\r\n\t// 下拉刷新\r\n\tasync onPullDownRefresh() {\r\n\t\tlet request\r\n\t\tif (this.$refs.comments) {\r\n\t\t\trequest = new Promise(resolve => {\r\n\t\t\t\tthis.$refs.comments.loadData({ clear: true }, resolve)\r\n\t\t\t})\r\n\t\t}\r\n\r\n\t\tconst delay = new Promise(resolve => {\r\n\t\t\tsetTimeout(resolve, 3000)\r\n\t\t})\r\n\r\n\t\tawait Promise.race([delay, request])\r\n\t\t\r\n\t\tthis.countTotalComment()\r\n\t\tuni.stopPullDownRefresh()\r\n\t},\r\n\t// 上拉加载\r\n\tonReachBottom() {\r\n\t\tif (this.$refs.comments) {\r\n\t\t\tthis.$refs.comments.loadMore()\r\n\t\t}\r\n\t},\r\n\tdata() {\r\n\t\tconst { uid } = uniCloud.getCurrentUserInfo()\r\n\r\n\t\tconst commentsFiled = `arrayElemAt(user_id.username, 0) as username,arrayElemAt(user_id.avatar, 0) as avatarUrl,arrayElemAt(user_id._id, 0) as comment_user_id,comment_content,comment_date,size(praise_user_ids._id) as praiseNum,in('${uid}', praise_user_ids._id) as praiseStatus`\r\n\r\n\t\treturn {\r\n\t\t\tuid,\r\n\t\t\tpost: {},\r\n\t\t\tcommentsFiled,\r\n\t\t\tcommentPosition: 0,\r\n\t\t\ttotalCommentCount: 0,\r\n\t\t\tfollowLoading: false,\r\n\t\t\timgLoadedSuccessStatus: false\r\n\t\t}\r\n\t},\r\n\tmethods: {\r\n\t\trefreshHistory() {\r\n\t\t\tthis.$A.history.update({\r\n\t\t\t\tuid: this.uid,\r\n\t\t\t\tpid: this.post._id\r\n\t\t\t})\r\n\t\t},\r\n\t\ttoCommentPosition() {\r\n\t\t\tuni.pageScrollTo({\r\n\t\t\t\tscrollTop: this.commentPosition\r\n\t\t\t})\r\n\t\t},\r\n\t\tasync countTotalComment() {\r\n\t\t\tconst total = await this.$A.comment.countTotalComment({\r\n\t\t\t\t_id: this.post._id\r\n\t\t\t})\r\n\t\t\t\r\n\t\t\tthis.totalCommentCount = total\r\n\t\t},\r\n\t\tasync countComment(vm) {\r\n\t\t\tconst { v } = vm \r\n\t\t\tconst total = await this.$A.comment.countCommentComment({\r\n\t\t\t\t_id: v._id\r\n\t\t\t})\r\n\t\t\t\r\n\t\t\tvm.commentCount = total\r\n\t\t},\r\n\t\tresolveCommentAction(v) {\r\n\t\t\tv.postID = this.post._id\r\n\t\t\tuni.setStorageSync('mainComment', v)\r\n\t\t\t\r\n\t\t\tuni.navigateTo({\r\n\t\t\t\turl: '/pages/comment/comment'\r\n\t\t\t})\r\n\t\t},\r\n\t\tasync resolveCommentPraise(op) {\r\n\t\t\tconst { fail, success, complete, payload } = op\r\n\t\t\t\r\n\t\t\tconst { uid } = this\r\n\t\t\ttry{\r\n\t\t\t\tawait this.$A.comment.praise({\r\n\t\t\t\t\tuid,\r\n\t\t\t\t\t...payload\r\n\t\t\t\t})\r\n\t\t\t\t\r\n\t\t\t\tsuccess()\r\n\t\t\t}catch(e){\r\n\t\t\t\tfail(e.message)\r\n\t\t\t} finally {\r\n\t\t\t\tcomplete()\r\n\t\t\t}\r\n\t\t},\r\n\t\tactiveColor(status) {\r\n\t\t\treturn status && 'main-color'\r\n\t\t},\r\n\t\tasync postPraise(op) {\r\n\t\t\tconst unloading = op.useLoading()\r\n\t\t\tconst hasPraise = this.post.praiseStatus\r\n\t\t\ttry {\r\n\t\t\t\tconst request = this.$A.post.praise({\r\n\t\t\t\t\tuid: this.uid,\r\n\t\t\t\t\tpostID: this.post._id,\r\n\t\t\t\t\tpraiseStatus: this.post.praiseStatus\r\n\t\t\t\t})\r\n\r\n\t\t\t\tawait this.$U.delayRequest(request)\r\n\r\n\t\t\t\tif (hasPraise) {\r\n\t\t\t\t\tthis.post.praiseNum--\r\n\t\t\t\t} else {\r\n\t\t\t\t\tthis.post.praiseNum++\r\n\t\t\t\t}\r\n\t\t\t\tthis.post.praiseStatus = !this.post.praiseStatus\r\n\r\n\t\t\t\t// 开发环境下才要\r\n\t\t\t\tuni.setStorageSync('post', this.post)\r\n\t\t\t} catch (e) {\r\n\t\t\t\tthis.$U.notice(e.message)\r\n\t\t\t} finally {\r\n\t\t\t\tunloading()\r\n\t\t\t}\r\n\t\t},\r\n\t\tasync postCommentRelease(op) {\r\n\t\t\tconst { payload, fail, success, complete } = op\r\n\t\t\ttry {\r\n\t\t\t\tawait this.$A.comment.createPost({\r\n\t\t\t\t\t...payload,\r\n\t\t\t\t\tpost_id: this.post._id\r\n\t\t\t\t})\r\n\t\t\t\tsuccess()\r\n\t\t\t} catch (e) {\r\n\t\t\t\tfail(e.message)\r\n\t\t\t} finally {\r\n\t\t\t\tcomplete()\r\n\t\t\t}\r\n\t\t},\r\n\t\tonMphtmlLoad() {\r\n\t\t\t// 本地缓存\r\n\t\t\tconst maxlen = 100\r\n\t\t\tconst imgCache = this.$refs.mphtml.imgCache\r\n\t\t\tconst shouldClear = imgCache.list.length > maxlen\r\n\t\t\tif (shouldClear) {\r\n\t\t\t\tuni.once('clearImgCache', () => {\r\n\t\t\t\t\timgCache.clear()\r\n\t\t\t\t})\r\n\t\t\t}\r\n\t\t},\r\n\t\tonMphtmlReady() {\r\n\t\t\tthis.imgLoadedSuccessStatus = true\r\n\t\t\t\r\n\t\t\tthis.$refs.mphtml.getRect().then(res => {\r\n\t\t\t\tthis.commentPosition = res.height\r\n\t\t\t})\r\n\t\t},\r\n\t\topenPopup() {\r\n\t\t\tthis.$refs.popup.open()\r\n\t\t},\r\n\t\tasync resolveCollect(op) {\r\n\t\t\tconst { id, fail, success, complete } = op\r\n\t\t\tconst { create, destory } = this.$A.stock\r\n\r\n\t\t\ttry {\r\n\t\t\t\tif (id) {\r\n\t\t\t\t\tawait destory({ id })\r\n\t\t\t\t} else {\r\n\t\t\t\t\tawait create({ post_id: this.post._id })\r\n\t\t\t\t}\r\n\t\t\t\tsuccess()\r\n\t\t\t} catch (e) {\r\n\t\t\t\tfail(e.message)\r\n\t\t\t} finally {\r\n\t\t\t\tthis.$refs.stock.loadData(\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tclear: true\r\n\t\t\t\t\t},\r\n\t\t\t\t\tcomplete\r\n\t\t\t\t)\r\n\t\t\t}\r\n\t\t},\r\n\t\tasync resolveFollow(op) {\r\n\t\t\tconst { id, fail, success, complete } = op\r\n\t\t\tconst { create, destory } = this.$A.follow\r\n\t\t\ttry {\r\n\t\t\t\tif (id) {\r\n\t\t\t\t\tawait destory({ id })\r\n\t\t\t\t} else {\r\n\t\t\t\t\tawait create({ follow_user_id: this.post.authorID })\r\n\t\t\t\t}\r\n\t\t\t\tsuccess()\r\n\t\t\t} catch (e) {\r\n\t\t\t\tfail(e.message)\r\n\t\t\t} finally {\r\n\t\t\t\tthis.$refs.follows.loadData({ clear: true }, complete)\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n.action-icon {\r\n\tfont-size: 45rpx;\r\n}\r\n\r\n.popup {\r\n\theight: 180rpx;\r\n}\r\n\r\n.userInfo {\r\n\twidth: 450rpx;\r\n}\r\n\r\n.avatar {\r\n\twidth: 90rpx;\r\n\theight: 90rpx;\r\n}\r\n\r\n.topic {\r\n\tcolor: #595959;\r\n\tbackground-color: #f5f5f5;\r\n}\r\n</style>\r\n","import { render, staticRenderFns, recyclableRender, components } from \"./follow.vue?vue&type=template&id=00fc9017&\"\nvar renderjs\nimport script from \"./follow.vue?vue&type=script&lang=js&\"\nexport * from \"./follow.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"pages/post/follow.vue\"\nexport default component.exports","export * from \"-!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--16-0!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./follow.vue?vue&type=template&id=00fc9017&\"","var components\ntry {\n  components = {\n    cButton: function() {\n      return import(\n        /* webpackChunkName: \"components/c-button/c-button\" */ \"@/components/c-button/c-button.vue\"\n      )\n    }\n  }\n} catch (e) {\n  if (\n    e.message.indexOf(\"Cannot find module\") !== -1 &&\n    e.message.indexOf(\".vue\") !== -1\n  ) {\n    console.error(e.message)\n    console.error(\"1. 排查组件名称拼写是否正确\")\n    console.error(\n      \"2. 排查组件是否符合 easycom 规范，文档：https://uniapp.dcloud.net.cn/collocation/pages?id=easycom\"\n    )\n    console.error(\n      \"3. 若组件不符合 easycom 规范，需手动引入，并在 components 中注册该组件\"\n    )\n  } else {\n    throw e\n  }\n}\nvar render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./follow.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./follow.vue?vue&type=script&lang=js&\"","<template>\n\t<c-button class=\"px-3 bg-white\" @on-tap=\"resolveFollow\" :class=\"f_id?'main-bg-color text-white font-sm':'bg-white'\">\n\t\t{{ loading ? 'loading' : f_id ? '已关注' : '关注' }}\n\t</c-button>\n</template>\n\n<script>\n\texport default {\n\t\tprops:{\n\t\t\tf_id: {\n\t\t\t\ttype: String,\n\t\t\t\tdefault: ''\n\t\t\t}\n\t\t},\n\t\tdata() {\n\t\t\treturn {\n\t\t\t\tloading: false\n\t\t\t}\n\t\t},\n\t\tmethods: {\n\t\t\tasync resolveFollow(data){\n\t\t\t\tif (!this.loading){\n\t\t\t\t\tthis.loading = true\n\t\t\t\t\tconst fail = msg => this.$U.notice(msg)\n\t\t\t\t\tconst success = () => {\n\t\t\t\t\t\tif (this.f_id){\n\t\t\t\t\t\t\tthis.$U.notice(\"取关成功\")\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tthis.$U.notice(\"关注成功\")\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tconst complete = () => {\n\t\t\t\t\t\tthis.$U.hideLoading()\n\t\t\t\t\t\tthis.loading = false\n\t\t\t\t\t}\n\t\t\t\t\tthis.$emit('follow',{\n\t\t\t\t\t\tid: this.f_id,\n\t\t\t\t\t\tfail,\n\t\t\t\t\t\tsuccess,\n\t\t\t\t\t\tcomplete\n\t\t\t\t\t})\n \t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n</script>\n\n<style>\n\n</style>\n"],"sourceRoot":""}