(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/topics/topics"],{"6bab":function(e,n,t){"use strict";(function(e){t("d48a");c(t("66fd"));var n=c(t("e3b9"));function c(e){return e&&e.__esModule?e:{default:e}}wx.__webpack_require_UNI_MP_PLUGIN__=t,e(n.default)}).call(this,t("543d")["createPage"])},ba6a:function(e,n,t){"use strict";t.d(n,"b",(function(){return o})),t.d(n,"c",(function(){return r})),t.d(n,"a",(function(){return c}));var c={cSticky:function(){return t.e("components/c-sticky/c-sticky").then(t.bind(null,"4a0a"))},cStatusBar:function(){return t.e("components/c-status-bar/c-status-bar").then(t.bind(null,"0aad"))},cPageHeader:function(){return t.e("components/c-page-header/c-page-header").then(t.bind(null,"037b"))},cSearchBar:function(){return t.e("components/c-search-bar/c-search-bar").then(t.bind(null,"db69"))},cAlert:function(){return t.e("components/c-alert/c-alert").then(t.bind(null,"0938"))},cDesc:function(){return t.e("components/c-desc/c-desc").then(t.bind(null,"b9b7"))},cTopicsReleasePopup:function(){return Promise.all([t.e("common/vendor"),t.e("components/c-topics-release-popup/c-topics-release-popup")]).then(t.bind(null,"faf5"))},unicloudDb:function(){return Promise.all([t.e("common/vendor"),t.e("node-modules/@dcloudio/uni-cli-shared/components/unicloud-db")]).then(t.bind(null,"960d"))},cErrorTip:function(){return Promise.all([t.e("common/vendor"),t.e("components/c-error-tip/c-error-tip")]).then(t.bind(null,"fb9e"))},cTopic:function(){return t.e("components/c-topic/c-topic").then(t.bind(null,"2bee"))},cScrollLoadMore:function(){return t.e("components/c-scroll-load-more/c-scroll-load-more").then(t.bind(null,"4b83"))},cTopicsCarryConfirm:function(){return t.e("components/c-topics-carry-confirm/c-topics-carry-confirm").then(t.bind(null,"735d"))},cBackTop:function(){return t.e("components/c-back-top/c-back-top").then(t.bind(null,"048f"))}},o=function(){var e=this,n=e.$createElement,t=(e._self._c,e.$hasScopedSlotsParams("73d36700-8")),c=t?e.$getScopedSlotsParams("73d36700-8","default","error"):null,o=t&&c?e.$getScopedSlotsParams("73d36700-8","default","error"):null,r=t&&!c?e.$getScopedSlotsParams("73d36700-8","default","data"):null,a=t&&!c?e.$getScopedSlotsParams("73d36700-8","default","loading"):null,u=t&&!c?e.$getScopedSlotsParams("73d36700-8","default","hasMore"):null;e.$mp.data=Object.assign({},{$root:{m0:t,m1:c,m2:o,l0:r,m3:a,m4:u}})},r=[]},c287:function(e,n,t){"use strict";(function(e){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var c=r(t("a34a")),o=r(t("770b"));function r(e){return e&&e.__esModule?e:{default:e}}function a(e,n,t,c,o,r,a){try{var u=e[r](a),i=u.value}catch(l){return void t(l)}u.done?n(i):Promise.resolve(i).then(c,o)}function u(e){return function(){var n=this,t=arguments;return new Promise((function(c,o){var r=e.apply(n,t);function u(e){a(r,c,o,u,i,"next",e)}function i(e){a(r,c,o,u,i,"throw",e)}u(void 0)}))}}var i={mixins:[o.default],data:function(){return{searchText:"",collectTopics:[]}},onReachBottom:function(){this.$refs.udb.loadMore()},onPullDownRefresh:function(){this.$refs.udb.loadData({clear:!0},e.stopPullDownRefresh)},computed:{searchRule:function(){return"".concat(new RegExp(this.searchText,"gi"),".test(title)")},carryConfirmShow:function(){return this.carryConfirmNum>0},carryConfirmNum:function(){return this.collectTopics.length}},methods:{onCarryConfirm:function(){var n=this;e.showModal({title:"话题",content:"确认携带这些话题吗？",success:function(t){var c=t.confirm;c&&(e.$emit("carryTopics",n.collectTopics),e.navigateBack())}})},resolveCollectTopics:function(e){var n=this.collectTopics.findIndex((function(n){return n._id===e._id})),t=-1!==n;if(t)return this.collectTopics.splice(n,1);var c=4;if(this.collectTopics.length>=4)return this.$U.notice("携带的话题数量不能超过".concat(c));this.collectTopics.push(e)},onTopicRelease:function(e,n){var t=this;return u(c.default.mark((function o(){return c.default.wrap((function(c){while(1)switch(c.prev=c.next){case 0:return c.prev=0,n.start(),c.next=4,t.$A.topic.create(e);case 4:n.success(),c.next=10;break;case 7:c.prev=7,c.t0=c["catch"](0),n.fail(c.t0.message);case 10:return c.prev=10,n.complete(),c.finish(10);case 13:case"end":return c.stop()}}),o,null,[[0,7,10,13]])})))()},onSearchBarConfirm:function(e){this.searchText=e},openReleasePopup:function(){this.$refs.popup.open()}}};n.default=i}).call(this,t("543d")["default"])},d3f5:function(e,n,t){"use strict";t.r(n);var c=t("c287"),o=t.n(c);for(var r in c)"default"!==r&&function(e){t.d(n,e,(function(){return c[e]}))}(r);n["default"]=o.a},e3b9:function(e,n,t){"use strict";t.r(n);var c=t("ba6a"),o=t("d3f5");for(var r in o)"default"!==r&&function(e){t.d(n,e,(function(){return o[e]}))}(r);var a,u=t("f0c5"),i=Object(u["a"])(o["default"],c["b"],c["c"],!1,null,"1e2566a8",null,!1,c["a"],a);n["default"]=i.exports}},[["6bab","common/runtime","common/vendor"]]]);