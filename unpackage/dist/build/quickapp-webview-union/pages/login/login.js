(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/login/login"],{"044e":function(e,n,t){"use strict";(function(e,n){t("d48a");u(t("66fd"));var r=u(t("a20e"));function u(e){return e&&e.__esModule?e:{default:e}}e.__webpack_require_UNI_MP_PLUGIN__=t,n(r.default)}).call(this,t("8adf")["default"],t("8adf")["createPage"])},"0573":function(e,n,t){"use strict";var r=t("9382"),u=t.n(r);u.a},"3baf":function(e,n,t){"use strict";t.r(n);var r=t("8640"),u=t.n(r);for(var a in r)"default"!==a&&function(e){t.d(n,e,(function(){return r[e]}))}(a);n["default"]=u.a},8640:function(e,n,t){"use strict";(function(e){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var r=u(t("a34a"));function u(e){return e&&e.__esModule?e:{default:e}}function a(e,n,t,r,u,a,i){try{var o=e[a](i),s=o.value}catch(l){return void t(l)}o.done?n(s):Promise.resolve(s).then(r,u)}function i(e){return function(){var n=this,t=arguments;return new Promise((function(r,u){var i=e.apply(n,t);function o(e){a(i,r,u,o,s,"next",e)}function s(e){a(i,r,u,o,s,"throw",e)}o(void 0)}))}}var o={data:function(){return{forms:{username:"",password:""},rules:{username:{rules:[{required:!0,errorMessage:"请输入{label}"},{minLength:2,maxLength:10,errorMessage:"{label}长度{minLength}到{maxLength}"}],label:"账号"},password:{rules:[{required:!0,errorMessage:"请输入{label}"},{minLength:8,maxLength:16,errorMessage:"{label}长度在{minLength}到{maxLength}"},{pattern:/^(?=.*[a-z])(?=.*[A-Z])[a-zA-Z0-9~!@&%#_]{8,16}$/,errorMessage:"{label}必须包含大小写字母"}],label:"密码"}}}},methods:{toRegisterPage:function(){e.navigateTo({url:"/pages/register/register",animationType:"slide-in-bottom"})},toHomePage:function(){e.switchTab({url:"/pages/tabbar/home/home"})},login:function(){var e=this;return i(r.default.mark((function n(){var t,u,a;return r.default.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.prev=0,e.$U.loading(),n.next=4,e.$refs.forms.validate();case 4:return t=n.sent,n.next=7,e.$A.user.login(t);case 7:u=n.sent,a=u.result,e.$U.refreshUser(a),e.$U.notice("登录成功"),e.toHomePage(),n.next=17;break;case 14:n.prev=14,n.t0=n["catch"](0),e.$U.notice(n.t0.message||"校验失败");case 17:return n.prev=17,e.$U.hideLoading(),n.finish(17);case 20:case"end":return n.stop()}}),n,null,[[0,14,17,20]])})))()}}};n.default=o}).call(this,t("8adf")["default"])},"91b8":function(e,n,t){"use strict";t.d(n,"b",(function(){return u})),t.d(n,"c",(function(){return a})),t.d(n,"a",(function(){return r}));var r={uniForms:function(){return Promise.all([t.e("common/vendor"),t.e("uni_modules/uni-forms/components/uni-forms/uni-forms")]).then(t.bind(null,"0af1"))},uniFormsItem:function(){return t.e("uni_modules/uni-forms/components/uni-forms-item/uni-forms-item").then(t.bind(null,"4510"))},uniEasyinput:function(){return t.e("uni_modules/uni-easyinput/components/uni-easyinput/uni-easyinput").then(t.bind(null,"5a54"))}},u=function(){var e=this,n=e.$createElement;e._self._c},a=[]},9382:function(e,n,t){},a20e:function(e,n,t){"use strict";t.r(n);var r=t("91b8"),u=t("3baf");for(var a in u)"default"!==a&&function(e){t.d(n,e,(function(){return u[e]}))}(a);t("0573");var i,o=t("f0c5"),s=Object(o["a"])(u["default"],r["b"],r["c"],!1,null,"597b07d6",null,!1,r["a"],i);n["default"]=s.exports}},[["044e","common/runtime","common/vendor"]]]);